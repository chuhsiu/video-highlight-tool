import{d as k,u as x,r as p,w as C,a as w,c as u,o as r,b as t,e as s,f as g,g as i,h as B,i as f,V as U,_ as L}from"./index-Hg-_rjbU.js";import{u as N,V as v,a as m,b as R,c as T}from"./VSkeletonLoader-CWT9TX4E.js";const h={class:"border pa-4"},E=["src"],S=k({__name:"index",setup(j){const c=N(),_=x(),n=p(null),a=p(null);function V(d){const e=event.target.files[0];if(!e)return;n.value=e;const l=URL.createObjectURL(e);a.value=l;const o=document.createElement("video");o.preload="metadata",o.src=l,o.onloadedmetadata=async()=>{const y=o.duration;c.setVideoInfo(l,y)}}C(n,d=>{d||(c.resetVideo(),a.value=null)},{deep:!0});function b(){_.push("/edit")}return(d,e)=>{const l=w("v-file-upload");return r(),u(T,null,{default:t(()=>[s(v,null,{default:t(()=>[s(m,null,{default:t(()=>[s(l,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=o=>n.value=o),accept:"video/*",onChange:V,clearable:"",density:"comfortable",variant:"comfortable"},null,8,["modelValue"])]),_:1}),s(m,null,{default:t(()=>[i("div",h,[e[2]||(e[2]=i("h3",null,"Preview",-1)),a.value?(r(),B("video",{key:0,src:a.value,class:"video-player mt-4",controls:""},e[1]||(e[1]=[i("source",{type:"video/*"},null,-1),f(" The browser doesn't support HTML5 video. ")]),8,E)):(r(),u(R,{key:1,boilerplate:"",type:"image",class:"ma-4"}))])]),_:1})]),_:1}),a.value?(r(),u(v,{key:0,class:"d-flex justify-center"},{default:t(()=>[s(U,{onClick:b,color:"success"},{default:t(()=>e[3]||(e[3]=[f(" Generate ")])),_:1,__:[3]})]),_:1})):g("",!0)]),_:1})}}}),F=L(S,[["__scopeId","data-v-5925e71c"]]);export{F as default};
