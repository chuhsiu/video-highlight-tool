import{d as x,u as g,r as c,w,a as C,c as p,o as d,b as t,e as a,f as B,g as u,h as f,i as m,F as N,V as U,_ as L}from"./index-CNV33SNh.js";import{u as R,V as v,a as _,b as T,c as E}from"./VSkeletonLoader-Dcq9nKm7.js";const F={class:"border pa-4 bg-surface"},S=["src"],j=x({__name:"index",setup(I){const i=R(),V=g(),n=c(null),l=c(null);function b(r){const e=r.target.files[0];if(!e)return;n.value=e;const s=URL.createObjectURL(e);l.value=s;const o=document.createElement("video");o.preload="metadata",o.src=s,o.onloadedmetadata=async()=>{const k=o.duration;i.setVideoInfo(s,k)}}w(n,r=>{r||(i.resetVideo(),l.value=null)},{deep:!0});function y(){V.push("/edit")}return(r,e)=>{const s=C("v-file-upload");return d(),p(E,null,{default:t(()=>[a(v,null,{default:t(()=>[a(_,null,{default:t(()=>[a(s,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=o=>n.value=o),accept:"video/*",onChange:b,clearable:"",density:"comfortable",variant:"comfortable"},null,8,["modelValue"])]),_:1}),a(_,null,{default:t(()=>[u("div",F,[e[3]||(e[3]=u("h3",null,"Preview",-1)),l.value?(d(),f("video",{key:0,src:l.value,class:"video-player mt-4",controls:""},e[1]||(e[1]=[u("source",{type:"video/*"},null,-1),m(" The browser doesn't support HTML5 video. ")]),8,S)):(d(),f(N,{key:1},[e[2]||(e[2]=u("p",{class:"mt-2 text-grey-darken-3"},"No video now.",-1)),a(T,{boilerplate:"",type:"image",class:"my-4"})],64))])]),_:1})]),_:1}),l.value?(d(),p(v,{key:0,class:"d-flex justify-center"},{default:t(()=>[a(U,{onClick:y,color:"success"},{default:t(()=>e[4]||(e[4]=[m(" Generate ")])),_:1,__:[4]})]),_:1})):B("",!0)]),_:1})}}}),G=L(j,[["__scopeId","data-v-cb91b73d"]]);export{G as default};
