import{d as k,u as x,r as f,w as C,a as w,c as u,o as d,b as t,e as s,f as g,g as i,h as B,i as p,V as U,_ as L}from"./index-CIgGyLae.js";import{u as N,V as m,a as v,b as R,c as T}from"./VSkeletonLoader-B6U6Oqio.js";const h={class:"border pa-4 bg-surface"},E=["src"],S=k({__name:"index",setup(j){const c=N(),_=x(),n=f(null),a=f(null);function V(r){const e=r.target.files[0];if(!e)return;n.value=e;const l=URL.createObjectURL(e);a.value=l;const o=document.createElement("video");o.preload="metadata",o.src=l,o.onloadedmetadata=async()=>{const y=o.duration;c.setVideoInfo(l,y)}}C(n,r=>{r||(c.resetVideo(),a.value=null)},{deep:!0});function b(){_.push("/edit")}return(r,e)=>{const l=w("v-file-upload");return d(),u(T,null,{default:t(()=>[s(m,null,{default:t(()=>[s(v,null,{default:t(()=>[s(l,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=o=>n.value=o),accept:"video/*",onChange:V,clearable:"",density:"comfortable",variant:"comfortable"},null,8,["modelValue"])]),_:1}),s(v,null,{default:t(()=>[i("div",h,[e[2]||(e[2]=i("h3",null,"Preview",-1)),a.value?(d(),B("video",{key:0,src:a.value,class:"video-player mt-4",controls:""},e[1]||(e[1]=[i("source",{type:"video/*"},null,-1),p(" The browser doesn't support HTML5 video. ")]),8,E)):(d(),u(R,{key:1,boilerplate:"",type:"image",class:"ma-4"}))])]),_:1})]),_:1}),a.value?(d(),u(m,{key:0,class:"d-flex justify-center"},{default:t(()=>[s(U,{onClick:b,color:"success"},{default:t(()=>e[3]||(e[3]=[p(" Generate ")])),_:1,__:[3]})]),_:1})):g("",!0)]),_:1})}}}),F=L(S,[["__scopeId","data-v-df8759cf"]]);export{F as default};
